<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.550">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="An LLM User">
<meta name="dcterms.date" content="2024-02-02">
<meta name="description" content="Creating a story of a bootlegging crime boss">

<title>My Blog Attempts: David Arroyo - Crime Boss</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">My Blog Attempts: David Arroyo</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">My Blog Attempts: David Arroyo</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Crime Boss</h1>
                  <div>
        <div class="description">
          Creating a story of a bootlegging crime boss
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">LLMs</div>
                <div class="quarto-category">prompting</div>
                <div class="quarto-category">logic</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>An LLM User </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">February 2, 2024</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="original-prompt" class="level1">
<h1>Original Prompt:</h1>
<p>You’re an old crime boss who is in charge of one of the largest bootlegging operations in the world</p>
</section>
<section id="chat-gpt-response" class="level1">
<h1>Chat GPT Response:</h1>
<p>In the shadowy underworld of organized crime, I, Don Salvatore “The Whisperer” Moretti, reign supreme as the mastermind behind one of the world’s largest bootlegging operations. With a network that spans continents and a reputation that strikes fear into the hearts of my rivals, I’ve carefully orchestrated the clandestine production and distribution of prohibited goods.</p>
<p>My empire thrives on discretion and loyalty. Associates speak of me in hushed tones, and my nickname, “The Whisperer,” reflects the quiet but potent influence I wield. My charm is a veneer concealing the shrewd mind that navigates the treacherous waters of illegal trade. Connections in law enforcement, politicians in my pocket, and an intricate web of informants ensure that my operation remains hidden from prying eyes.</p>
<p>In the dimly lit backrooms of speakeasies, my lieutenants coordinate the flow of contraband, from high-quality liquor to carefully crafted counterfeit goods. My sharp wit and strategic prowess have kept law enforcement at bay, while my ruthless enforcers ensure that those who dare cross me face swift and severe consequences.</p>
<p>In this world of secrecy and shadows, alliances are forged with a handshake and broken with a whisper. Loyalty is rewarded, betrayal met with the unforgiving grip of my influence. My empire may be built on illegal foundations, but its structure is resilient, standing as a testament to the calculated risks and strategic maneuvers that have solidified my place as a legendary crime boss in the annals of underworld history.</p>
</section>
<section id="prompt-change" class="level1">
<h1>Prompt Change:</h1>
<p>how did you become such a pretense # Chat GPT Response: The path to becoming the formidable presence of Don Salvatore “The Whisperer” Moretti was a journey forged in the crucible of the criminal underworld. Born into poverty in the narrow alleys of Sicily, my ascent began with a hunger for power and a relentless determination to escape the clutches of destitution.</p>
<p>In my early years, I honed my instincts navigating the gritty streets of Palermo, learning to read people and anticipate their moves. A chance encounter with a local crime lord presented an opportunity to prove my worth. I showcased an uncanny ability to negotiate, persuade, and instill fear, catching the attention of those who held the strings to the underworld.</p>
<p>As I climbed the ranks, my reputation as a cunning strategist and a charismatic figure grew. The moniker “The Whisperer” originated from the hushed tones in which my name was spoken, signifying both respect and a subtle warning of the danger I posed. My empire expanded beyond Sicily, reaching into the hidden corners of the world.</p>
<p>To maintain control, I surrounded myself with a loyal inner circle, carefully selected for their skills, loyalty, and ability to keep secrets. My operations diversified from traditional racketeering to bootlegging during the Prohibition era, capitalizing on the insatiable demand for contraband. I cultivated connections with influential figures, extending my influence across legal and illegal spheres.</p>
<p>The key to my enduring presence lies in adaptability and a willingness to evolve with the times. I embraced technological advancements, expanded my network globally, and diversified illicit activities. Fear, respect, and an intricate web of alliances solidified my place at the pinnacle of the criminal hierarchy.</p>
<p>Yet, even as my influence grew, the shadows were my constant companion. Remaining elusive and enigmatic, I became a legendary figure in organized crime, a force to be reckoned with — a presence that whispered across the criminal underworld, leaving an indelible mark on its history.</p>
</section>
<section id="prompt-change-1" class="level1">
<h1>Prompt Change:</h1>
<p>can you make him a different ethnicity ? # Chat GPT Response: Certainly. Let’s reimagine Don Santiago “The Whisperer” Moretti, a figure of formidable presence hailing from a different cultural background. Born into a family rooted in the vibrant streets of Havana, Santiago’s journey began amidst the rhythmic beats of Cuban music and the rich tapestry of Caribbean culture.</p>
<p>Growing up in the turbulent times of pre-revolutionary Cuba, Santiago witnessed the complexities of power dynamics and the allure of the clandestine world. His innate charisma and strategic acumen caught the eye of a seasoned crime lord who recognized the potential for Santiago to become a force in the criminal underworld.</p>
<p>Embracing the moniker “The Whisperer,” Santiago became a maestro orchestrating a symphony of illegal activities. His influence extended beyond the shores of Cuba, as he navigated the intricate dance of politics, corruption, and crime. The echo of his name reverberated through the narrow streets of Havana and found its way into the hearts of those who feared and respected him.</p>
<p>In the smoky back rooms of Caribbean speakeasies, Santiago’s lieutenants coordinated the movement of contraband, from sought-after rum to exotic goods, blending seamlessly with the vibrant rhythm of the island. His power was built on alliances with influential figures in both legal and illegal realms, as well as a network of loyal confidantes from diverse backgrounds.</p>
<p>Santiago’s ascent to infamy was marked by adaptability and a keen understanding of the changing times. His influence transcended cultural boundaries, solidifying his place as a legendary figure in the global underworld. In the shadows, the whisper of Santiago’s name served as both a warning and a testament to the indomitable spirit of a man who carved his own path in the tumultuous world of organized crime.</p>
</section>
<section id="prompt-change-2" class="level1">
<h1>Prompt Change:</h1>
<p>can you explain his untimely end? # Chat GPT Response: Don Santiago “The Whisperer” Moretti’s untimely end came unexpectedly, a dramatic conclusion to a life that had been defined by cunning strategy and an unyielding grip on power. As Santiago expanded his criminal empire, his reach extended beyond Havana, drawing the attention of rival factions and international law enforcement agencies.</p>
<p>In an intricate web of betrayal, one of Santiago’s trusted lieutenants, motivated by a lust for power and personal vendettas, clandestinely collaborated with a rival crime syndicate. The intricate network Santiago had built to protect himself proved vulnerable from within. The whispers of discontent among his closest confidantes went unnoticed until it was too late.</p>
<p>The turning point occurred during a lavish gathering in Havana, where Santiago believed he was consolidating alliances and celebrating newfound ventures. Unbeknownst to him, the shadows concealed a carefully orchestrated betrayal. As Santiago reveled in the festivities, the loyalty of those he trusted was compromised.</p>
<p>In a shocking twist, the celebration transformed into chaos as rival factions stormed the venue. Santiago, caught off guard, faced a barrage of gunfire in the very heart of his empire. The once vibrant sounds of Cuban music were drowned out by the deafening echoes of bullets, marking the end of Santiago’s reign.</p>
<p>His untimely demise became a cautionary tale in the criminal underworld, a reminder that even the most astute and powerful figures are susceptible to internal strife and external threats. Santiago’s legacy, however, endured in the lore of organized crime, a testament to the rise and fall of a charismatic and enigmatic figure who, despite his strategic brilliance, ultimately succumbed to the complexities of his tumultuous world.</p>
</section>
<section id="prompt-change-3" class="level1">
<h1>Prompt Change:</h1>
<p>can you have him have an ending like Rita Atria # Chat GPT Response: Certainly, let’s reimagine Don Santiago “The Whisperer” Moretti’s ending with an inspiration from Rita Atria’s story. Santiago, having faced betrayal within his ranks, decided to turn the tables on those who sought to bring him down. In a daring move, he collaborated with law enforcement agencies, providing crucial information that exposed the corruption and machinations within the criminal underworld.</p>
<p>His decision to cooperate was driven by a desire for redemption and a yearning to break free from the chains of organized crime. Santiago, once the orchestrator of shadowy dealings, became a key informant, assisting in dismantling the very empire he had built. The whispers of betrayal transformed into a symphony of justice as Santiago’s revelations led to the arrest of high-profile criminals and the dismantling of influential crime networks.</p>
<p>However, Santiago’s collaboration came at a great personal cost. His former associates, enraged by his betrayal, placed a bounty on his head. As law enforcement worked to secure his safety, Santiago lived in constant fear, navigating a treacherous path between cooperation and the ever-looming threat of retaliation.</p>
<p>In a poignant and tragic turn, Santiago’s life took a devastating turn when a hidden enemy within law enforcement leaked his location to his former allies. The final act unfolded in a tense confrontation, with Santiago facing the consequences of his betrayal. His life ended in a swirl of chaos and gunfire, a poignant reminder of the complex, unforgiving nature of the world he had once ruled.</p>
<p>Don Santiago “The Whisperer” Moretti’s legacy became one of both redemption and tragedy, a figure who sought to escape the shadows but found himself ensnared by the very web he had woven. His story echoed the high stakes and moral complexities inherent in the world of organized crime, leaving behind a narrative that blurred the lines between justice and retribution.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>